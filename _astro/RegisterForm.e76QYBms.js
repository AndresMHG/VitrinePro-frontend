import{v as c,a as y,w as N}from"./runtime-dom.esm-bundler.XdelSIez.js";import{_ as h,r as k,s as E,a as x}from"./_plugin-vue_export-helper.D3-yg2xa.js";/* empty css                          */import{d as T,c as i,a as s,b as t,w as n,t as d,e as v,r as f,o as l}from"./runtime-core.esm-bundler.CbHwxXao.js";const P=T({__name:"RegisterForm",setup(g,{expose:r}){r();const o=f({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",acceptTerms:!1}),e=f(!1),u=f(""),p=f(""),a=f({});function _(){return a.value={},o.value.firstName.trim()||(a.value.firstName="El nombre es requerido"),o.value.lastName.trim()||(a.value.lastName="El apellido es requerido"),o.value.email.trim()||(a.value.email="El email es requerido"),o.value.password||(a.value.password="La contraseña es requerida"),o.value.password.length<6&&(a.value.password="La contraseña debe tener al menos 6 caracteres"),o.value.password!==o.value.confirmPassword&&(a.value.confirmPassword="Las contraseñas no coinciden"),o.value.acceptTerms||(a.value.acceptTerms="Debes aceptar los términos y condiciones"),Object.keys(a.value).length===0}async function w(){if(u.value="",p.value="",!!_()){e.value=!0;try{const m=await k({firstName:o.value.firstName,lastName:o.value.lastName,email:o.value.email,password:o.value.password});E(m.access_token),x(m.user),p.value="¡Cuenta creada correctamente! Redirigiendo...",setTimeout(()=>{window.location.href="/VitrinePro-frontend/profile-view"},1e3)}catch(m){u.value=m.message||"Error al crear la cuenta. Intenta de nuevo.",console.error("Register error:",m)}finally{e.value=!1}}}const b={form:o,isLoading:e,errorMessage:u,successMessage:p,fieldErrors:a,validateForm:_,handleRegister:w};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),L={class:"register-form-wrapper"},q={class:"form-group"},C=["disabled"],V={key:0,class:"error-text"},M={class:"form-group"},U=["disabled"],R={key:0,class:"error-text"},S={class:"form-group"},B=["disabled"],D={key:0,class:"error-text"},F={class:"form-group"},I=["disabled"],j={key:0,class:"error-text"},A={class:"form-group"},O=["disabled"],Y={key:0,class:"error-text"},z={class:"form-group"},G={class:"checkbox-label"},H=["disabled"],J={key:0,class:"error-text"},K={key:0,class:"alert alert-error"},Q={key:1,class:"alert alert-success"},W=["disabled"],X={key:0},Z={key:1};function $(g,r,o,e,u,p){return l(),i("div",L,[s("form",{onSubmit:N(e.handleRegister,["prevent"]),class:"register-form"},[s("div",q,[r[6]||(r[6]=s("label",{for:"firstName",class:"form-label"},"Nombre",-1)),n(s("input",{id:"firstName","onUpdate:modelValue":r[0]||(r[0]=a=>e.form.firstName=a),type:"text",class:"form-input",placeholder:"Tu nombre",required:"",disabled:e.isLoading},null,8,C),[[c,e.form.firstName]]),e.fieldErrors.firstName?(l(),i("span",V,d(e.fieldErrors.firstName),1)):t("",!0)]),s("div",M,[r[7]||(r[7]=s("label",{for:"lastName",class:"form-label"},"Apellido",-1)),n(s("input",{id:"lastName","onUpdate:modelValue":r[1]||(r[1]=a=>e.form.lastName=a),type:"text",class:"form-input",placeholder:"Tu apellido",required:"",disabled:e.isLoading},null,8,U),[[c,e.form.lastName]]),e.fieldErrors.lastName?(l(),i("span",R,d(e.fieldErrors.lastName),1)):t("",!0)]),s("div",S,[r[8]||(r[8]=s("label",{for:"email",class:"form-label"},"E-mail",-1)),n(s("input",{id:"email","onUpdate:modelValue":r[2]||(r[2]=a=>e.form.email=a),type:"email",class:"form-input",placeholder:"tu@email.com",required:"",disabled:e.isLoading},null,8,B),[[c,e.form.email]]),e.fieldErrors.email?(l(),i("span",D,d(e.fieldErrors.email),1)):t("",!0)]),s("div",F,[r[9]||(r[9]=s("label",{for:"password",class:"form-label"},"Contraseña",-1)),n(s("input",{id:"password","onUpdate:modelValue":r[3]||(r[3]=a=>e.form.password=a),type:"password",class:"form-input",placeholder:"Crea una contraseña fuerte",required:"",disabled:e.isLoading},null,8,I),[[c,e.form.password]]),e.fieldErrors.password?(l(),i("span",j,d(e.fieldErrors.password),1)):t("",!0)]),s("div",A,[r[10]||(r[10]=s("label",{for:"confirmPassword",class:"form-label"},"Confirmar contraseña",-1)),n(s("input",{id:"confirmPassword","onUpdate:modelValue":r[4]||(r[4]=a=>e.form.confirmPassword=a),type:"password",class:"form-input",placeholder:"Confirma tu contraseña",required:"",disabled:e.isLoading},null,8,O),[[c,e.form.confirmPassword]]),e.fieldErrors.confirmPassword?(l(),i("span",Y,d(e.fieldErrors.confirmPassword),1)):t("",!0)]),s("div",z,[s("label",G,[n(s("input",{"onUpdate:modelValue":r[5]||(r[5]=a=>e.form.acceptTerms=a),type:"checkbox",class:"checkbox-input",required:"",disabled:e.isLoading},null,8,H),[[y,e.form.acceptTerms]]),r[11]||(r[11]=s("span",null,[v(" Acepto los "),s("a",{href:"/terms",target:"_blank"},"Términos de Uso"),v(" y "),s("a",{href:"/privacy",target:"_blank"},"Política de Privacidad")],-1))]),e.fieldErrors.acceptTerms?(l(),i("span",J,d(e.fieldErrors.acceptTerms),1)):t("",!0)]),e.errorMessage?(l(),i("div",K,d(e.errorMessage),1)):t("",!0),e.successMessage?(l(),i("div",Q,d(e.successMessage),1)):t("",!0),s("button",{type:"submit",class:"btn btn-primary btn-full",disabled:e.isLoading},[e.isLoading?(l(),i("span",Z,"Creando cuenta...")):(l(),i("span",X,"Crear Cuenta"))],8,W)],32),r[12]||(r[12]=s("div",{class:"auth-footer"},[v(" ¿Ya tienes cuenta? "),s("a",{href:"/login"},"Inicia sesión aquí")],-1))])}const oe=h(P,[["render",$],["__scopeId","data-v-4e280867"]]);export{oe as default};
